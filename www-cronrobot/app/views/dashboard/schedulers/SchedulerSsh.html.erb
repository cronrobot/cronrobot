
<%= form_with model: [:dashboard, @scheduler] do |form| %>
  <%= form.hidden_field :project_id %>

  <div class="form-group">
    <%= form.label :name, "Name" %>
    <%= form.text_field :name, class: "form-control" %>
  </div>

  <%= render "dashboard/schedulers/form_schedule", form: form %>

  <div class="form-group">
    <%= form.label "params[resource_id]", "Ssh credentials" %>

    <%= form.select "params[resource_id]", (Resource.accessible_by(@current_user, "ResourceProjectSsh").collect {|p| [ p.params["name"], p.id ] }), {}, multiple: false, class: "form-control" %>
  </div>

  <div class="form-group">
    <%= form.label "params[command]", "Remote command" %>

    <%= form.text_field "params[command]", class: "form-control", value: @scheduler.params&.dig("command") %>
  </div>

  <%= render "dashboard/schedulers/form_notification_channels", form: form %>

  <%= form.submit %>
<% end %>