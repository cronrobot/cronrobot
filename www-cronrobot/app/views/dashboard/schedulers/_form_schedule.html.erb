
<div class="form-group">
    <%= form.label "params[schedule_type]", "Schedule" %>
    <%= form.select "params[schedule_type]",
        friendly_schedule_lister, {},
        multiple: false,
        onchange: "handleScheduleTypeChange(this.value)",
        class: "form-control" %>
</div>

<div class="form-group" id="customScheduleBlock">
    <%= form.label :schedule, "Schedule" %>
    <%= form.text_field :schedule, class: "form-control" %>
</div>

<pre><%= friendly_schedules().inspect %></pre>
<script>
    (function() {
        window.formHide("customScheduleBlock")
        window.formShow("customScheduleBlock")
    })();

    function handleScheduleTypeChange(value) {
        if (value === "custom") {
            window.formShow("customScheduleBlock")
        } else {
            window.formHide("customScheduleBlock")
        }
    }
</script>